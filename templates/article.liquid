{% assign number_of_comments = article.comments_count %} {% if comment and
comment.created_at %} {% assign number_of_comments = article.comments_count %}
{% endif %}

<div class="article-template">
  <header class="article-header--wrapper">
    <div class="meta--wrapper">
      <ul class="">
        {% if article.tags.size > 0 %} {% for tag in article.tags %}
        <li>
          <span>{{ tag }}{% unless forloop.last %}, {% endunless %}</span>
        </li>
        {% endfor %} {% endif %}
      </ul>
      <p>
        {{ article.created_at | date: '%d.%m.%Y' }}
      </p>
    </div>

    <h1>{{ article.title }}</h1>

    <p>by <span class="article-author">{{ article.author }}</span></p>
  </header>

  <div class="article-item--image-wrapper aspect-ratio__16x9">
    <img
      class="article-item__featured-image lazyload"
      src="{{ article.image.src | img_url: 'master' }}"
      srcset="{{ article.image.src | img_url: '800x' }} 800w,{{ article.image.src | img_url: 'master' }} 1600w,"
      alt="Featured image for {{ article.title }}"
    />
  </div>

  <section class="article-content">
    <div>{{ article.content }}</div>
  </section>
</div>
{% if blog.comments_enabled? %}
<h2>{{ number_of_comments }} comments</h2>
{% paginate article.comments by 5 %} {% for comment in article.comments %}
<div>
  <div>{{ comment.content }}</div>
  {{ comment.author }} @ {{ comment.created_at }}
</div>
{% endfor %} {% if paginate.pages > 1 %}
{{ paginate | default_pagination }}
{% endif %} {% endpaginate %}

<div>
  {% form 'new_comment', article %}
  {{ form.errors | default_errors }}
  <label for="CommentAuthor">name</label>
  <input
    type="text"
    name="comment[author]"
    id="CommentAuthor"
    placeholder="name"
    value="{{ form.author }}"
    autocapitalize="words"
  />

  <label for="CommentEmail">email</label>
  <input
    type="email"
    name="comment[email]"
    id="CommentEmail"
    placeholder="email"
    value="{{ form.email }}"
    autocorrect="off"
    autocapitalize="off"
  />

  <label for="CommentBody">message</label>
  <textarea name="comment[body]" id="CommentBody" placeholder="message">{{
    form.body
  }}</textarea>

  <input type="submit" value="post" />
  {% endform %}
</div>
{% endif %}
